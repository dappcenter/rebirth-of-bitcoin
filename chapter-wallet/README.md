# 比特币钱包

本章将介绍比特币钱包的使用方法。其中包括 BIP39 助记词，HD 钱包，Paymail 协议，以及几款常用钱包的介绍。

## 什么是比特币钱包

在收发比特币时会使用专门的桌面软件或手机 App，这类应用程序统称为比特币 “钱包”。钱包软件涵盖的功能大致有：

* 管理用户的私钥，可以导入已有私钥，也可以创建新的私钥
* 现在的钱包大多支持 BIP39 提案，即通过一串助记词(通常是12个英文单词)来生成无数个私钥
* 能从区块链中查找出所有属于该用户的 UTXO，即被这些私钥对应的公钥哈希锁定的所有 UTXO
* 在支付时能合理挑选或组合 UTXO 以满足交易所需金额并计算手续费
* 能用私钥签名并向网络广播交易

了解钱包的工作原理十分必要，这能让你更高效的使用软件，更安全的 “存储”（其实是保护私钥）和收发比特币。

### 不泄漏私钥原则

比特币网络是一个去中心化的网络，上面的信息都是公开透明的。这意味着：

* 区块链记录了比特币从诞生至今的所有交易
* 交易是 UTXO 集状态变化的反映，每一笔交易会消耗之前创建的 UTXO，同时创建新的 UTXO。从而形成一条交易的链条
* UTXO 直接存储在区块链上，它由锁定脚本锁定
* 比特币系统通过交易链条串联起来的 UTXO 来表达某个地址上的所有交易活动（交易历史），系统中没有 “账户” 和 “账户余额” 的概念
* 当我说 “我有 1 个比特币” 时，其实是在表达 “被我的公钥哈希锁定的所有 UTXO 的面值之和，是 1 比特币”（不考虑 P2PKH 以外的交易类型）
* 私钥意味着一切，掌握私钥就拥有并可以支付其对应公钥哈希上锁定的比特币

所以，

* 比特币是直接记录在区块链上的，并不真正 “存放” 在钱包软件里
* 真正 ** 控制你比特币的是私钥 **，钱包只是帮你管理一批私钥，这些私钥控制的所有 UTXO 的面值之和，就是你的 “账户余额”
* 妥善保管好私钥(或助记词)，任何获得私钥的人都能签名并操纵其对应的比特币

### 不重用地址原则

我们常说，比特币交易是

* ** 公开的 **，区块链记录了所有的交易，全网公开可查
* ** 匿名的 **，没有人知道谁控制了哪些地址，除非这个人主动承认并提供证明
* ** 不可篡改的 **，因为挖矿共识的存在，交易一旦被写入区块，随着区块链的不断延长（区块确认越来越多）重新计算这些区块变得没有可能

出于隐私保护的目的，一个比特币地址只应被使用一次，这样能避免别有用心之人根据已知信息追踪到你其他的交易活动（社会工程学）。

出于安全的考虑，也应该这么做，当你不小心泄露了某个地址的私钥时，不至于损失所有的比特币。

一般的，

* 每次收款都应使用不同的地址
* 每个地址上的币数不宜过多，例如不超过 100 个
* 支付时如果需要找零，应找零到新地址

接下来，本章将介绍几款常用的 BSV 钱包。
