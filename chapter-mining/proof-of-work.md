# 工作量证明

## 什么是工作量证明？

比特币是一个不断更新的数据库，受到共识机制的保护，需要所谓的矿工或节点执行大量计算，通过解决哈希难题拿到工作量证明（Proof-of-Work）。其中，处理能力最强的矿工最有可能解决难题并在区块链上添加区块，每个区块包含由用户签名并由节点中继的交易。由于工作量证明共识机制需要大量的精力投入，也就是成本投入。具体地来说，创造一个新区块需要按照概率指定地完成若干次易于验证而难以重现的计算，以提高篡改的成本。

矿工享有两种货币激励措施，即通过工作量证明（Proof-of-Work）以电子货币的形式激励，保证网络运行：

1. 为添加区块的节点增加新币供给（目前每个区块奖励 12.5 枚比特币）
2. 用户选择的所有交易手续费总额（区块足够大的情况下，每笔手续费大约不到一分）

此外，更重要的是，每个节点还暗含着一个激励结构。由每个节点决定并（按计算能力）投票随后挖哪个区块，这不仅仅取决于谁先解决哈希难题，而是首先要确保交易有效，如果两笔相互冲突交易，则必须为排序靠前且有电子签名的一笔。

这对节点的 “行为” 有着很大的影响，因为在任何时候，所有节点都需注意到所有中继的交易，从而避免虚假或双重支付交易，这符合共同利益; 如果一个节点有意或无意地通过了欺诈性交易，其他节点便不会在这样一个欺诈性区块上挖掘。因为所有节点都需致力于区块链网络正常且诚实地运行，否则未来的收入岌岌可危。

如此就形成了一个高度互联的网络，每个节点都中继并处理所有接收到的有效交易，实现 Pareto 最优解。这一网络被称为一个小世界或一张近乎完整的图。简单说来，可以想象一下它以下列方式运行：

值得注意的是，这一过程只需几毫秒。时间对于节点来说至关重要，是一个主要成本因素; 如果一个节点未能完全更新，便有着成为孤儿的风险，其他节点可能决定不在这一节点开采的区块上挖矿，从而使其比特币奖励变得毫无价值。

比特币区块链的安全性恰恰源于这样一种网络效应：由于受到财务上的激励，最强大的节点开采速度高于网络中的其他任何节点，因此也不会选择违反游戏规则，只会记录有效交易。

## PoW 机制的意义

Proof of work 工作量证明，还更多地存在于我们认知我们所处的这个世界。
工作量证明，永远是向前看的，看我们在现在的当下是否坚持工作、坚持创造，坚持改变这个世界；而持有量证明，是向后看的，看我们过去取得了哪些荣誉。一个逼迫我们坚持时刻奋进，一个则更希望坐在已有的基础上停滞不前，选择自在世人心中。

由于 PoW 需要花费电费进行相关的计算，会有很多人认为这是对能源的浪费，其实这不是，反之，正式因为比特币系统存在货币价值，有了价值，才会有人去挖矿；如果这个系统失去了价值，费电挖矿自然会停止。有一些人偷电挖矿，是实在的盗窃罪行，但这不是挖矿的罪过，它也可以偷电给自己电瓶车充电，都是盗窃。
另外有一些参与区块链系统的人，认为 PoW 是浪费了太多电力，开始转向 Proof of Stake，即持有量证明。这些算法是在比特币系统的基础上，将新生成区块的主人，依概率和持有比例赐予持有对应币种的节点。也有很多信息论的老师在研究是否有科学的 PoS 算法。

如果一个加引号的 “加密数字货币” 采用 PoS 系统，决策方式为按照持有比例投票，那其实这不是一个货币，而是一个公司的股权，那如果是 ICO 上市，就是非法证券。回到比特币上，它到底是货币，还是一项普通商品，还是证券？在法律的定义上这是值得商榷的。比特币的发行人到底是谁？你可以认为，比特币的数量新增依赖于矿工的劳动投入，新比特币的发行人是每一个出块的矿工；然而你也可以认为，因为中本聪设定好了比特币的总数和初始分发方式，矿工只是运行了中本聪的程序，所以比特币的发行人是中本聪。很多国家都有伪造货币罪的，事情就麻烦了。

代码不能也不可能取代人类的正义观念。法律不仅仅存在于条文之中，法律是一种精神，更多的是人类正义观念的体现，控告、辩护与裁决，都是有人的主观性的。

## 一些对比特币的误解

中本聪设计的目的，不是一个去中心化的货币系统，而是一个杀不死的货币系统。这是大多数人的第一个误解。

那么如何实现杀不死呢，用的是去中心化的方式来实现的，所以去中心化是手段而不是目的。这是第二个误解。

那么如何实现去中心化呢，有很多种，比如 PoW ，比如 PoS ，还有基于 ip 数量等等，最终中本聪选择了 PoW ，为什么？不是因为 PoW 可以实现去中心化， PoW 根本做不到去中心化。这是第三个误解。

那为什么还要选择 PoW ，因为只有 PoW 才能让真正掌握权力的人付出足够大的代价，付出足够多的沉没成本，这样他们才不会轻易危害比特币系统，才会竭尽全力去维护。中本聪并没有指望 PoW 可以避免中心化，否则他就不会指出 51% 攻击的可能性了。换句话说，中本聪早就知道 PoW 会出现中心化，中心化不可怕，可怕的是掌握权力的人不付出代价。所以 PoW 等于去中心化，这是第四个误解。

## 工作量证明的本质

现实世界和虚拟世界一直在我们这个世界共存了几十年了，但是仔细想想，并没有一个非常好的方式，将现实世界的资源用标准的方式，转换成虚拟世界的资源。有人可能说，不对啊，域名资源、IP 地址、带宽、存储空间不都是通过现实世界的资源转换得到的么？

没错，它们其实也可以作为衡量的标准，可惜它们也有各种人为限制造成的缺陷，比如不够稳定、不易度量的、难以全球共同承认、全球无法容易地统一验证。而只有算力，可以完全满足上述的所有要求，所以，PoW 机制最终选择了算力为衡量标准。

如此，我们很容易看出，PoW 的本质其实是将现实世界的芯片和电力，转换成一串虚拟世界的数字，这串数字极为难得，必须要靠消耗大量现实资源才能得到。也就是说，PoW 打通了现实和虚拟的转换通道。

这样的意义在于，控制了现实世界资源的人，将会在虚拟世界里获得同样的权力和资源，也就是说让现实世界里可以扼杀比特币的人在比特币的世界里获得竞争优势，因为有了这个竞争优势，他们就有理由有动机成为比特币世界的朋友而不是敌人。所以，很容易就可以理解 PoW 为什么符合经济学原理，也很容易明白为什么采用了 PoW 机制的比特币的算力资源可以以指数级的形式疯狂成长壮大。

看到这里，你就明白为什么总有人说，支持矿工才是真正的支持比特币，而那些希望削弱矿工的力量、希望修改算法追求所谓挖矿公平的人，其实是在斩断比特币系统的激励机制，从根本上破坏比特币的成长。
